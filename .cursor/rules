# Cursor Rules for CozyBerries Telegram Bot

## Conda Environment
- **ALWAYS** use the conda environment: `cozyberries-telegram-bot`
- **NEVER** use system Python or other environments
- All Python scripts must run in this conda environment

## Python Execution
When running Python scripts or commands, always use:
```bash
conda activate cozyberries-telegram-bot && python script.py
```

Or use conda run:
```bash
conda run -n cozyberries-telegram-bot python script.py
```

## Shell Commands
For any shell command that involves Python:
```bash
source /opt/homebrew/Caskroom/miniconda/base/etc/profile.d/conda.sh && conda activate cozyberries-telegram-bot && <your-command>
```

## Package Management
- Use `pip` within the conda environment for Python packages
- Always activate environment before installing: `conda activate cozyberries-telegram-bot && pip install <package>`
- Update requirements.txt after installing new packages

## Testing and Development
- Local development: Always activate conda environment first
- Run FastAPI: `conda activate cozyberries-telegram-bot && uvicorn app.main:app --reload`
- Run tests: `conda activate cozyberries-telegram-bot && pytest`

## Environment Variables
- Use `.env.local` for local development
- Conda environment does NOT include environment variables
- Always load .env.local when needed

## Python Version
- Python 3.13 (as specified in conda environment)
- Do not use Python 3.11 or earlier versions

## Common Commands
```bash
# Activate environment
conda activate cozyberries-telegram-bot

# Deactivate environment
conda deactivate

# Check active environment
conda env list

# Install packages
conda activate cozyberries-telegram-bot && pip install package-name

# Run FastAPI server
conda activate cozyberries-telegram-bot && ./TEST_LOGFIRE_LOCAL.sh

# Run Python script
conda activate cozyberries-telegram-bot && python script.py
```

## Verification
Before running any Python command, verify conda environment:
```bash
which python  # Should show: /opt/homebrew/Caskroom/miniconda/base/envs/cozyberries-telegram-bot/bin/python
python --version  # Should show: Python 3.13.x
```

## Important Notes
- The conda environment is isolated and has its own Python interpreter
- System-wide Python packages are NOT available in conda environment
- Always check you're in the correct environment before running code
- If a package is missing, install it: `conda activate cozyberries-telegram-bot && pip install package-name`
